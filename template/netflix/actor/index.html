<?php 
$netflixLayoutPath = TPL_PATH . 'netflix/layouts/';
include $netflixLayoutPath . 'header.php'; 
?>

<!-- 演员列表页 -->
<div class="pt-20 md:pt-24 px-4 md:px-12 pb-10">
    <h1 class="text-2xl md:text-3xl font-bold mb-8">全部演员</h1>

    <!-- 字母筛选 -->
    <div class="flex flex-wrap gap-2 mb-8">
        <a href="/actor" class="<?php echo empty($_GET['letter']) ? 'bg-red-600' : 'bg-gray-800 hover:bg-gray-700'; ?> px-3 py-1.5 rounded text-sm transition">全部</a>
        <?php foreach (range('A', 'Z') as $letter): ?>
        <a href="?letter=<?php echo $letter; ?>" class="<?php echo ($_GET['letter'] ?? '') == $letter ? 'bg-red-600' : 'bg-gray-800 hover:bg-gray-700'; ?> px-3 py-1.5 rounded text-sm transition"><?php echo $letter; ?></a>
        <?php endforeach; ?>
    </div>

    <!-- 演员列表 -->
    <?php if (!empty($actorList)): ?>
    <div class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8 gap-4">
        <?php foreach ($actorList as $actor): ?>
        <a href="<?php echo xpk_page_url('actor_detail', ['id' => $actor['actor_id'], 'slug' => $actor['actor_en']]); ?>" class="text-center group">
            <div class="w-full aspect-square rounded-full overflow-hidden bg-gray-800 mb-3">
                <img src="<?php echo $actor['actor_pic'] ?: '/static/images/no-avatar.svg'; ?>" alt="<?php echo htmlspecialchars($actor['actor_name']); ?>" class="w-full h-full object-cover group-hover:scale-110 transition">
            </div>
            <p class="text-sm truncate group-hover:text-red-500"><?php echo htmlspecialchars($actor['actor_name']); ?></p>
        </a>
        <?php endforeach; ?>
    </div>

    <!-- 分页 -->
    <?php if ($totalPages > 1): ?>
    <div class="flex justify-center items-center space-x-2 mt-10">
        <?php if ($page > 1): ?>
        <a href="?<?php echo http_build_query(array_merge($_GET, ['page' => $page - 1])); ?>" class="bg-gray-800 hover:bg-gray-700 px-4 py-2 rounded transition">上一页</a>
        <?php endif; ?>
        
        <span class="text-gray-400 px-4">第 <?php echo $page; ?> / <?php echo $totalPages; ?> 页</span>
        
        <?php if ($page < $totalPages): ?>
        <a href="?<?php echo http_build_query(array_merge($_GET, ['page' => $page + 1])); ?>" class="bg-gray-800 hover:bg-gray-700 px-4 py-2 rounded transition">下一页</a>
        <?php endif; ?>
    </div>
    <?php endif; ?>

    <?php else: ?>
    <div class="text-center py-20">
        <p class="text-gray-500 text-lg">暂无演员</p>
    </div>
    <?php endif; ?>
</div>

<?php include $netflixLayoutPath . 'footer.php'; ?>
